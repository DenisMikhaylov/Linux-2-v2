---
Практическая работа:
    Название: 'Создание среды для практических работ.'
    Действие: 'Модуль первый'
---
# **Создание стенда**
**Время выполнения:  90 минут**

В данной практической работе мы создадим стенд в рамках, которого будем выполнять наш курс .

Этапы создания стенда:

- Импорт виртуальных машин

- Настройка виртуальных машин и сети

- Развертывания сервисов

Имена пользователей и пароли:
```
Для denian
login: student 
password: 111
```
```
Для Windows
login: Admin 
password: Pa55w.rd
```
### **Практическая работа**

### **Задача 1: Импорт виртуальных машин**
Импортировать 4 виртуальные машины


# 1. Схема стенда
![/img/schema.png](../img/schema.png)


# 2.Создание виртуальных машин в виртуализации
Шаг 1. Импорт VM

* Импорт 5 виртуальных машин с Debian и MS
```
4 Debian
gate 
srv1
srv2
ClientLinux
```
```
1 Windows
Win
```
### **Задача 2: Настройка виртуальны машины Gate**

Gate предназначен для пограничного маршрутизатора и межсетевого экрана

Настройка Gate

Настройка системы виртуализации например в Oracle VM VirtualBox

Настрояка сетвых интерфейсов

1. На панели инструментов нажмите кнопку "Настроить".

2. В открывшемся окне слева выберите "Сеть".

3. С правой стороны перейдите на вкладки и настроить выбор согласно списку снизу.:
```
Адаптер 1 - Сетевой мост
Адаптер 2 - Виртуальный адаптер хоста 

```
4. На каждом адаптере нажмите на надпись "Дополнительно".

5. Нажать на кнопку с двумя синими стрелочками и перегенерировать MAC-адрес

6. Нажмите кнопку "OK".
   
7. На панели инструментов нажмите кнопку "Запустить".

8. Внимание!
```
Вы можете включить режим масштабирования, чтобы содержимое окна сжималось
или растягивалось в зависимости от размера самого окна. Разрешение при этом не
меняется.
Включение или выключение режима масштабирования - Host + c.
Host-комбинация по умолчанию Right Ctrl (Правый Control).
Итого по умолчанию Right Ctrl + c.
Внимание!
Первоначальные настройки проводятся вручную.
В виртуальном терминале на ВМ GATE, SRV1, SRV2 буфер обмена не доступен.
В виртуальном графическом терминале на ВМ  буфер обмена можно
включить, выбрав в меню ВМ в Oracle VM VirtualBox Устройства - Общий буфер
обмена - Двунаправленный.
Однако даже при включении данной настройки буфер обмена не всегда работает.
```
  

9. Войдите в систему под учетной записью указанной сверху.

10. Запустите терминул.

11. Получите права супер пользователя.

```
student@debian:~$ su -
```
```
< Введите пароль пользователя student >
```

12. Настроить сетевые адреса
    
```
# nano /etc/network/interfaces
```
```
#WAN
auto eth1
iface eth1 inet dhcp

#LAN
auto eth2
iface eth2 inet static
address 192.168.100.1/24        

or


#WAN
auto enp0s3
iface enp0s3 inet dhcp

#LAN
auto enp0s8
iface enp0s8 inet static
address 192.168.100.1/24  
```
13. Изменить имя компьютера
```
hostnamectl set-hostname  gate.corp.local
```
14. Откройте в текстовом редакторе файл /etc/hosts.

15. Замените вторую строку на
```
127.0.1.1 gate gate.corp.local
```

16. Перезапустить сетевые адаптеры
```
systemctl restart networking
```
17. Проверка IP адресации
```
ip a
ip r
nslookup ya.ru
```
18. Проверка связи
```
ping ya.ru
```


### **Задача 3: Настройка виртуальны машины srv1**

Gate предназначен для пограничного маршрутизатора и межсетевого экрана

Настройка Gate

Настройка системы виртуализации например в Oracle VM VirtualBox

Настрояка сетвых интерфейсов

1. На панели инструментов нажмите кнопку "Настроить".

2. В открывшемся окне слева выберите "Сеть".

3. С правой стороны перейдите на вкладки и настроить выбор согласно списку снизу.:
```
Адаптер 1 - Виртуальный адаптер хоста


```
4. На каждом адаптере нажмите на надпись "Дополнительно".

5. Нажать на кнопку с двумя синими стрелочками и перегенерировать MAC-адрес

6. Нажмите кнопку "OK".
   
8. На панели инструментов нажмите кнопку "Запустить".

9. Внимание!
```
Вы можете включить режим масштабирования, чтобы содержимое окна сжималось
или растягивалось в зависимости от размера самого окна. Разрешение при этом не
меняется.
Включение или выключение режима масштабирования - Host + c.
Host-комбинация по умолчанию Right Ctrl (Правый Control).
Итого по умолчанию Right Ctrl + c.
Внимание!
Первоначальные настройки проводятся вручную.
В виртуальном терминале на ВМ GATE, SRV1, SRV2 буфер обмена не доступен.
В виртуальном графическом терминале на ВМ  буфер обмена можно
включить, выбрав в меню ВМ в Oracle VM VirtualBox Устройства - Общий буфер
обмена - Двунаправленный.
Однако даже при включении данной настройки буфер обмена не всегда работает.
```
  

10. Войдите в систему под учетной записью указанной сверху.

11. Запустите терминул.

12. Получите права супер пользователя.

```
student@debian:~$ su -
```
```
< Введите пароль пользователя student >
```

13. Настроить сетевые адреса
    
```
# nano /etc/network/interfaces
```
```
#LAN
auto eth1
iface eth1 inet static
address 192.168.100.20/24        
gateway 192.168.100.1  
or

#LAN
auto enp0s3
iface enp0s3 inet static
address 192.168.100.20/24
gateway 192.168.100.1  
```
14. Изменить имя компьютера
```
hostnamectl set-hostname  srv1.corp.local
```
15. Откройте в текстовом редакторе файл /etc/hosts.

16. Замените вторую строку на
```
127.0.1.1 srv1 srv1.corp.local
```

16. Перезапустить сетевые адаптеры
```
systemctl restart networking
```
17. Проверка IP адресации
```
ip a
ip r
```
18. Проверка связи
```
ping 192.168.100.1
```

### **Задача 4: Настройка виртуальны машины srv2**

Gate предназначен для пограничного маршрутизатора и межсетевого экрана

Настройка Gate

Настройка системы виртуализации например в Oracle VM VirtualBox

Настрояка сетвых интерфейсов

1. На панели инструментов нажмите кнопку "Настроить".

2. В открывшемся окне слева выберите "Сеть".

3. С правой стороны перейдите на вкладки и настроить выбор согласно списку снизу.:
```
Адаптер 1 - Виртуальный адаптер хоста


```
4. На каждом адаптере нажмите на надпись "Дополнительно".

5. Нажать на кнопку с двумя синими стрелочками и перегенерировать MAC-адрес

6. Нажмите кнопку "OK".
   
8. На панели инструментов нажмите кнопку "Запустить".

9. Внимание!
```
Вы можете включить режим масштабирования, чтобы содержимое окна сжималось
или растягивалось в зависимости от размера самого окна. Разрешение при этом не
меняется.
Включение или выключение режима масштабирования - Host + c.
Host-комбинация по умолчанию Right Ctrl (Правый Control).
Итого по умолчанию Right Ctrl + c.
Внимание!
Первоначальные настройки проводятся вручную.
В виртуальном терминале на ВМ GATE, SRV1, SRV2 буфер обмена не доступен.
В виртуальном графическом терминале на ВМ  буфер обмена можно
включить, выбрав в меню ВМ в Oracle VM VirtualBox Устройства - Общий буфер
обмена - Двунаправленный.
Однако даже при включении данной настройки буфер обмена не всегда работает.
```
  

10. Войдите в систему под учетной записью указанной сверху.

11. Запустите терминул.

12. Получите права супер пользователя.

```
student@debian:~$ su -
```
```
< Введите пароль пользователя student >
```

13. Настроить сетевые адреса
    
```
# nano /etc/network/interfaces
```
```
#LAN
auto eth1
iface eth1 inet static
address 192.168.100.21/24        
gateway 192.168.100.1  
or

#LAN
auto enp0s3
iface enp0s3 inet static
address 192.168.100.21/24
gateway 192.168.100.1  
```
14. Изменить имя компьютера
```
hostnamectl set-hostname  srv2.corp.local
```
15. Откройте в текстовом редакторе файл /etc/hosts.

16. Замените вторую строку на
```
127.0.1.1 srv2 srv2.corp.local
```

16. Перезапустить сетевые адаптеры
```
systemctl restart networking
```
17. Проверка IP адресации
```
ip a
ip r
```
18. Проверка связи
```
ping 192.168.100.1
```

### **Задача 5: Настройка виртуальны машины clientlinux**

Gate предназначен для пограничного маршрутизатора и межсетевого экрана

Настройка Gate

Настройка системы виртуализации например в Oracle VM VirtualBox

Настрояка сетвых интерфейсов

1. На панели инструментов нажмите кнопку "Настроить".

2. В открывшемся окне слева выберите "Сеть".

3. С правой стороны перейдите на вкладки и настроить выбор согласно списку снизу.:
```
Адаптер 1 - Виртуальный адаптер хоста


```
4. На каждом адаптере нажмите на надпись "Дополнительно".

5. Нажать на кнопку с двумя синими стрелочками и перегенерировать MAC-адрес

6. Нажмите кнопку "OK".
   
8. На панели инструментов нажмите кнопку "Запустить".

9. Внимание!
```
Вы можете включить режим масштабирования, чтобы содержимое окна сжималось
или растягивалось в зависимости от размера самого окна. Разрешение при этом не
меняется.
Включение или выключение режима масштабирования - Host + c.
Host-комбинация по умолчанию Right Ctrl (Правый Control).
Итого по умолчанию Right Ctrl + c.
Внимание!
Первоначальные настройки проводятся вручную.
В виртуальном терминале на ВМ GATE, SRV1, SRV2 буфер обмена не доступен.
В виртуальном графическом терминале на ВМ  буфер обмена можно
включить, выбрав в меню ВМ в Oracle VM VirtualBox Устройства - Общий буфер
обмена - Двунаправленный.
Однако даже при включении данной настройки буфер обмена не всегда работает.
```
  

10. Войдите в систему под учетной записью указанной сверху.

11. Запустите терминул.

12. Получите права супер пользователя.

```
student@debian:~$ su -
```
```
< Введите пароль пользователя student >
```

13. Настроить сетевые адреса
    
```
# nano /etc/network/interfaces
```
```
#LAN
auto eth1
iface eth1 inet static
address 192.168.100.101/24        
gateway 192.168.100.1  
or

#LAN
auto enp0s3
iface enp0s3 inet static
address 192.168.100.101/24
gateway 192.168.100.1  
```
14. Изменить имя компьютера
```
hostnamectl set-hostname  cll.corp.local
```
15. Откройте в текстовом редакторе файл /etc/hosts.

16. Замените вторую строку на
```
127.0.1.1 cll cll.corp.local
```

17. Перезапустить сетевые адаптеры
```
systemctl restart networking
```
18. Проверка IP адресации
```
ip a
ip r
```
19. Проверка связи
```
ping 192.168.100.1
```

### **Задача 9: Настройка виртуальны машины clientwindows**

Gate предназначен для пограничного маршрутизатора и межсетевого экрана

Настройка Gate

Настройка системы виртуализации например в Oracle VM VirtualBox

Настрояка сетвых интерфейсов

1. На панели инструментов нажмите кнопку "Настроить".

2. В открывшемся окне слева выберите "Сеть".

3. С правой стороны перейдите на вкладки и настроить выбор согласно списку снизу.:
```
Адаптер 1 - Виртуальный адаптер хоста


```
4. На каждом адаптере нажмите на надпись "Дополнительно".

5. Нажать на кнопку с двумя синими стрелочками и перегенерировать MAC-адрес

6. Нажмите кнопку "OK".
   
8. На панели инструментов нажмите кнопку "Запустить".

9. Внимание!
```
Вы можете включить режим масштабирования, чтобы содержимое окна сжималось
или растягивалось в зависимости от размера самого окна. Разрешение при этом не
меняется.
Включение или выключение режима масштабирования - Host + c.
Host-комбинация по умолчанию Right Ctrl (Правый Control).
Итого по умолчанию Right Ctrl + c.
Внимание!
Первоначальные настройки проводятся вручную.
В виртуальном терминале на ВМ GATE, SRV1, SRV2 буфер обмена не доступен.
В виртуальном графическом терминале на ВМ  буфер обмена можно
включить, выбрав в меню ВМ в Oracle VM VirtualBox Устройства - Общий буфер
обмена - Двунаправленный.
Однако даже при включении данной настройки буфер обмена не всегда работает.
```
  

10. Войдите в систему под учетной записью указанной сверху.
  
12. Проверить доступ по сети

```
ping 192.168.100.1
```





